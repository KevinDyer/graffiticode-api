<h1>Starting Graffiti Code</h1>
<br>
<p>

In this tutorial you will learn five basic skills for using Graffiti Code. If you are familiar with
other drawing languages such as PostScript or Processing, then this will mostly be review for you.
But even so, the syntax and editing environment will be different and there are other more subtle
differences, so you will benefit from working through this tutorial.
</p>
<p>
The five skills you will learn here are:<br>

<ul style="position: relative; left: 15">
<li>Preparing the drawing surface</li>
<li>Creating and positioning shapes</li>
<li>Coloring shapes</li>
<li>Signing in</li>
<li>Archiving code</li>
<li>Sharing code</li>
</ul>

</p>

<h1>Preparing a drawing surface</h1>
<br>
<p>
<b>NOTE</b>: Graffiti Code programs consist of sequences of expressions. The
expressions we will be using in this section are called function applications. You may remember from
high school math class that a function is an equation (or procedure) that maps a set of values to
one or more other values. Graffiti Code functions that interest us most are the ones that return
values representing marks on a surface or somehow affect the surface visually.
</p>
<p>
Graffiti Code provides two functions that affect the drawing surface. They are <b>size</b> and
<b>background</b>. The <b>size</b> function takes two number values that represent the width and height
of the drawing surface in pixels. The <b>background</b> function takes a single value that represents the color of
the background. In this case we are giving it the integer value <i>127</i>, which represents a 50% gray value.
</p>
<p> <b>NOTE</b>: Color values can be represented by integer values between <i>0</i> and <i>255</i>,
inclusive, where <i>0</i> represents black and <i>255</i> represents white. Non-grey color values can be computed using one of the functions: <b>rgb</b> or <b>rgba</b>,
to be discussed later.
</p>

<p>
<div id="surface-example-editor" name="code"/>
</p>

<p>
This code sets the drawing surface size to <i>100</i> pixels wide by <i>100</i> pixels high, and sets
its color to roughly 50% gray.

<p>
<div id="surface-example-graffito"></div>
</p>

<script>
$(document).ready(function () {
    var e = CodeMirror(document.querySelector("#surface-example-editor"), {
	mode:  "graffiti",
	lineWrapping: "true",
	lineNumbers: "true",
        value: "size 100 100.\nbackground 127.\n.",
        readOnly: true,
    })

    $.get("http://www.graffiticode.org/graffiti/252", function (data) {
        $("#surface-example-graffito").append("<a href='#' onclick='GraffitiCode.ui.showWorkspace(); GraffitiCode.ui.updateSrc(252)'>"+data+"<br/>View in workspace</a>")
    })


})

</script>



<h1>Creating and positioning shapes</h1>
<br>
<p>
<b>Graffiti Code /draw</b> provides functions for constructing and manipulating shape values. These shapes include: <br>

<ul style="position: relative; left: 15">
<li>ellipse</li>
<li>rectangle</li>
<li>triangle</li>
<li>text</li>
<li>curve</li>
</ul>
</p>

<h2>Creating shapes</h2>

<p>
Here, we add to our small grey surface the shape of a circular ellipse.

<p>
<div id="shape1-example-editor" name="code"/>
</p>

<p>
This code creates an ellipse with the width of <i>80</i> pixels and height of
<i>80</i> pixels, and its center at the origin.
</p>

<p>
<div id="shape1-example-graffito"></div>
</p>

<script>
$(document).ready(function () {
    var e = CodeMirror(document.querySelector("#shape1-example-editor"), {
	mode:  "graffiti",
	lineWrapping: "true",
	lineNumbers: "true",
        value: "size 100 100.\nbackground 127.\nellipse 80 80.",
        readOnly: true,
    })

    $.get("http://www.graffiticode.org/graffiti/254", function (data) {
        $("#shape1-example-graffito").append("<a href='#' onclick='GraffitiCode.ui.showWorkspace(); GraffitiCode.ui.updateSrc(254)'>"+data+"<br/>View in workspace</a>")
    })


})
</script>

<h2>Positioning shapes</h2>

<p>
<div id="shape2-example-editor" name="code"/>
</p>

<p>
This code moves the ellipse from its default position with center at the origin to the position
with its center at the position with x of 50 pixels and y of 50 pixels, at the center of our 100 by
100 pixel surface.
</p>

<p>
<div id="shape2-example-graffito"></div>
</p>

<script>
$(document).ready(function () {
    var e = CodeMirror(document.querySelector("#shape2-example-editor"), {
	mode:  "graffiti",
	lineWrapping: "true",
	lineNumbers: "true",
        value: "size 100 100.\nbackground 127.\ntranslate 50 50 ellipse 80 80.",
        readOnly: true,
    })

    $.get("http://www.graffiticode.org/graffiti/258", function (data) {
        $("#shape2-example-graffito").append("<a href='#' onclick='GraffitiCode.ui.showWorkspace(); GraffitiCode.ui.updateSrc(258)'>"+data+"<br/>View in workspace</a>")
    })

})
</script>

<h1>Coloring shapes</h1>
<br>
<p>
<b>Graffiti Code /draw</b> provides primitive functions for computing colors and applying those colors to shape values. These functions include: <br>

<ul style="position: relative; left: 15">
<li><b>rgb</b> <i>red green blue</i> - computes an opaque color value</li>
<li><b>rgba</b> <i>red green blue alpha</i> - computes a transparent color value</li>
<li><b>fill</b> <i>color shape</i> - sets fill color</li>
<li><b>stroke</b> <i>color shape</i> - sets stroke color</li>
<li><b>color</b> <i>color shape</i> - sets stroke and fill color</li>
</ul>
</p>

<h2>Coloring shapes</h2>

<p>
We apply the coloring functions to a color and a shape whose color is to be updated. In addition to
the 256 gray values described in the section on <i>background</i>, we can compute colors using RGB
values using the <b>rgb</b> and <b>rgba</b> functions. The <b>rgb</b> function is applied to three
numeric values between <i>0</i> and <i>255</i> representing the red, green and blue components of a
color. <b>rgba</b> is applied to four values, the first three being the same as those for <i>rgb</i>
and the last one being a numeric value between 0 and 100 representing the transparency of the
computed color where 0 represents complete transparency and 100 represents complete opacity.
</p>

<p>
<div id="coloring1-example-editor" name="code"/>
</p>

<p>
This code colors our previuosly created and positioned circle with a transparent black stroke color
and an opaque bright green fill. Using the stroke transparency of 0 is an idiom for representing
that we want no stroke color. We use 0 0 0 (black) for simplicity; all completely transparent colors
appear the same.
</p>

<p>
<div id="coloring1-example-graffito"></div>
</p>

<script>
$(document).ready(function () {
    var e = CodeMirror(document.querySelector("#coloring1-example-editor"), {
	mode:  "graffiti",
	lineWrapping: "true",
	lineNumbers: "true",
        value: "size 100 100.\nbackground 127.\ntranslate 50 50 stroke rgba 0 0 0 0 fill rgb 0 255 0 ellipse 80 80.",
        readOnly: true,
    })

    $.get("http://www.graffiticode.org/graffiti/262", function (data) {
        $("#coloring1-example-graffito").append("<a href='#' onclick='GraffitiCode.ui.showWorkspace(); GraffitiCode.ui.updateSrc(262)'>"+data+"<br/>View in workspace</a>")
    })


})
</script>


<h2>Coloring shapes with transparency</h2>

<p>
We can use transparency to allow shapes to show through shapes positioned in front of them.
</p>

<p>
<div id="coloring2-example-editor" name="code"/>
</p>

<p>
Here we modify the previous piece by setting the background to light grey, and creating three
smaller circles with no stroke and each with one of three different colors all with a transparency
of 30.
</p>

<p>
<div id="coloring2-example-graffito"></div>
</p>

<script>
$(document).ready(function () {
    var e = CodeMirror(document.querySelector("#coloring2-example-editor"), {
	mode:  "graffiti",
	lineWrapping: "true",
	lineNumbers: "true",
        value: "size 100 100.\n" +
               "background 240.\n" +
               "translate 40 40 stroke rgba 0 0 0 0 fill rgba 255 0 0 30 ellipse 50 50.\n" +
               "translate 60 40 stroke rgba 0 0 0 0 fill rgba 0 255 0 30 ellipse 50 50.\n" +
               "translate 50 60 stroke rgba 0 0 0 0 fill rgba 0 0 255 30 ellipse 50 50.\n" +
               ".",
        readOnly: true,
    })

    $.get("http://www.graffiticode.org/graffiti/263", function (data) {
        $("#coloring2-example-graffito").append("<a href='#' onclick='GraffitiCode.ui.showWorkspace(); GraffitiCode.ui.updateSrc(263)'>"+data+"<br/>View in workspace</a>")
    })


})
</script>


<p>
<b>NOTE</b>: At this point you're probably thinking to yourself, <i>"Wow! There's a lot of
redundancy in this code. Why can't I just say 'stroke rgba 0 0 0 0' and 'ellipse 50 50' once?"</i>
and <i>"These so called expressions are pretty long and gangly. This isn't going to be fun."</i>
Not to worry. We will see how both of these problems are solved in a later tutorial. The solution
involves defining new words that wrap all that redundancy into a neat little functional package that
is configured just the way you want. In addition to providing tidier abstractions for the things you
want to represent, these functions avoid the pitfalls that come with using global state to manage
shared properties.
</p>

<h1>Signing in</h1>

<br>
<p>
Signing in to Graffiti Code allows you to save your work to the archive and to share your work as
Github Gists.
</p>

<p>
<i>Here is were we will describe how to sign in.</i> (You can probably figure it out by clicking the linke
named "Sign In" in the page header.
</p>

<h1>Archiving code</h1>

<br>
<p>
Once you've signed into Graffiti Code you can save your work in the archive. All pieces are publically
viewable and sharable.
</p>

<p>
In the Workspace panel, click the Archive button to save the current code. Code that has not been
significantly modified will not be saved. Significant changes involve changing the compiled meaning of the
code. For example, whitespace changes do not constitute significant modifications.
</p>

<h1>Sharing code</h1>
<br>
<p>
<b>NOTE: This feature has not yet been implemented.</b>
</p>

<p>
Once you've signed into Graffiti Code you can share your code as a Github Gist.
</p>

<p>
In the Workspace panel, click the Share button to save the current source and object code as a Gist.
Code that has not been significantly modified since the last time it was shared, will not be saved.
Significant changes involve changing the compiled meaning of the code. For example, whitespace changes
do not constitute significant modifications. Once your code has been share on Github, the URL to its
Gist will be displayed as a comment in the code.
</p>

<link rel="stylesheet" href="codemirror.css">
<script src="codemirror.js"></script>
<script src="mode-graffiti.js"></script>

